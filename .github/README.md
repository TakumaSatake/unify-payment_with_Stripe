# unify_payment

## 背景
キャッシュレス決済はクレジットカードや電子マネーを皮切りに、今ではQRコード決済なども行えるようになっている。
2019年に政府が実施したマイナポイントやコロナ禍での非接触による決済が推奨され、最近では利用者が増加傾向にある。

しかし、日本は諸外国と比べキャッシュレス決済の浸透が遅く、サービスも乱立しているため店舗によって利用できる決済方法が異なる。
ユーザーは店舗に合わせて決済方法を考慮しなければならず、業界全体を通してユーザビリティがかなり低い。

実際、AirPayなど専用の端末を導入することであらゆる決済方法に対応できるマルチ決済サービスも存在する。
しかしこれらもまた決済手数料が高く導入をためらう店舗が多い。

そこで、ユーザー端末のアプリに決済方法を集約させ、支払い時に1つのQRコードで決済出来れば、ユーザビリティも向上し店舗側も導入がしやすくなるのではと考えた。

## 使用API、SDK、ライブラリ
~■elepay（[https://elepay.io/index.html](https://elepay.io/index.html)）~

~* 1つのQRコードに集約できる(OneQR)~
~* 30種類以上の決済ブランドに対応、クレジット・電子マネー・QRコード払いが使える~
~* オンライン決済やECサイトにも対応~
~* 初期費用なし、費用は決済が発生したときのみ~

> note
> 
> 2022年2月26日
> 
> API提供元であるELESTYLE 株式会社に問い合わせたところ、法人での申し込みが必須であることが判明。
> 
> 現時点で法人は持っていないため、APIの導入は行わず画面のみの実装とする

■Stripe API

* クレジットカードのほか、GooglePay、ApplePay,その他海外のメイン決済サービスの導入が可能
* APIがオープンに公開。開発が行いやすい
* UIも提供されている
* React以外の言語にも対応。アプリ開発もしやすい

■React router

■React Hook Form

## システム開発、および当システム導入における課題
* 支払い情報のサーバー連携
* 店舗が対応していない支払い方法とユーザーが使いたい支払い方法をどうやって紐づけるか
* 決済方法が異なるサービス間での情報連携
> 上記2課題の例
> 
> * AさんはS店で夕飯のおかずを買いたい
> * Aさんは普段Ppayというスマホ決済を使用しているが、S店ではクレジットカードか電子マネーeのみ対応しており、Ppayは未加盟
> * Aさんは当システムを使用し、S店の専用端末で支払い
> * 最終的にAさんはPpayで決済が完了し、S店では対応する決済方法で会計処理される
* ユーザー獲得
* マネタイズ
* ポイント管理、連携
* セキュリティ面の脆弱性
* 店舗が導入しやすい手数料の設定、そもそも店舗側に導入を求めるのか
* 法律上の手続き

## 提供画面
> note
> 
> firebaseにデプロイしていますが、なぜかhosting URLからアクセスできません。
> 
> サンプル画像を掲載しますので、大変お手数ですがこちらからご確認ください。

* ホーム画面
  * チェックアウト画面（カード情報入力）
  * ![image](https://user-images.githubusercontent.com/98210198/159113234-c3013ee1-e47a-4db8-bf0f-058a1a86b23d.png)
  * 支払い方法（店舗導入支払い方法）の選択
  * ![image](https://user-images.githubusercontent.com/98210198/159113258-e9883aea-9a8f-4582-a7c5-d5c7cd499515.png)
  * QRコード表示画面
  * ![image](https://user-images.githubusercontent.com/98210198/159113269-c654b151-9738-4f16-8189-a036c19209bd.png)
* 設定画面　（2022/3/16時点　未実装）
  * アカウント画面

### 使用方法
* 画面にアクセスし、ユーザーの支払い元（クレジットカード情報、決済サービス等）を選択
* 情報を入力して「お支払い」ボタンを押下
  * テストカード番号
    * 4242 4242 4242
  * 日付
    * 任意の未来日
  * CVS
    * 任意の3桁
   > note
   > 
   > 画面遷移がうまく機能しないため、手打ちで以下のURLにアクセスしてください

* 店舗で使える決済サービスを選択し、「決定」ボタンを押下
* QRコードが表示される
