# unify_payment

## 背景
キャッシュレス決済はクレジットカードや電子マネーを皮切りに、今ではQRコード決済なども行えるようになっている。
2019年に政府が実施したマイナポイントやコロナ禍での非接触による決済が推奨され、最近では利用者が増加傾向にある。

しかし、日本は諸外国と比べキャッシュレス決済の浸透が遅く、サービスも乱立しているため店舗によって利用できる決済方法が異なる。
ユーザーは店舗に合わせて決済方法を考慮しなければならず、業界全体を通してユーザビリティがかなり低い。

実際、AirPayなど専用の端末を導入することであらゆる決済方法に対応できるマルチ決済サービスも存在する。
しかしこれらもまた決済手数料が高く導入をためらう店舗が多い。

そこで、ユーザー端末のアプリに決済方法を集約させ、支払い時に1つのQRコードで決済出来れば、ユーザビリティも向上し店舗側も導入がしやすくなるのではと考えた。

## 使用API、SDK
elepay（[https://elepay.io/index.html](https://elepay.io/index.html)）

## 選定理由
* 1つのQRコードに集約できる(OneQR)
* 30種類以上の決済ブランドに対応、クレジット・電子マネー・QRコード払いが使える
* オンライン決済やECサイトにも対応
* 初期費用なし、費用は決済が発生したときのみ

> note
> 
> 2022年2月26日
> 
> API提供元であるELESTYLE 株式会社に問い合わせたところ、法人での申し込みが必須であることが判明。
> 
> 現時点で法人は持っていないため、APIの導入は行わず画面のみの実装とする

## システム開発、および当システム導入における課題
* 店舗が対応していない支払い方法とユーザーが使いたい支払い方法をどうやって紐づけるか
* 決済方法が異なるサービス間での情報連携
> 上記2課題の例
> 
> * AさんはS店で夕飯のおかずを買いたい
> * Aさんは普段Ppayというスマホ決済を使用しているが、S店ではクレジットカードか電子マネーeのみ対応しており、Ppayは未加盟
> * Aさんは当システムを使用し、S店の専用端末で支払い
> * 最終的にAさんはPpayで決済が完了し、S店では対応する決済方法で会計処理される
* ユーザー獲得
* マネタイズ
* ポイント管理、連携
* セキュリティ面の脆弱性
* 店舗が導入しやすい手数料の設定
* 法律上の手続き

## 提供画面
* ホーム画面
  * 決済コード表示画面
    * 決済コード
    * コード読み取りボタン
    * セルフボタン
    * 使い方
    * 支払い方法（店舗導入支払い方法）の選択
    * 残高、ポイント照会
    * ポイント利用設定チェックボックス
    * 加盟店検索
  * チャージ画面
    * 残高
    * 残高更新ボタン
    * チャージボタン
    * 利用履歴
  * ポイント画面
    * ポイントカード機能（バーコード）
    * ポイント照会
    * 利用・獲得ポイント設定
* 設定画面
  * アカウント画面
  * 支払い方法登録
    * 登録済み支払い方法一覧
    * 追加ボタン
    * 支払い方法選択ダイアログ
    * 会員情報登録
