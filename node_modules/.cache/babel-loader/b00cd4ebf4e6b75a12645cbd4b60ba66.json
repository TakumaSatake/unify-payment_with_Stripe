{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gold2\\\\techpit\\\\unify-payment_with_Stripe\\\\src\\\\components\\\\home\\\\PaymentDialog.tsx\";\nimport React from \"react\";\nimport ReactModal from 'react-modal';\nexport class PaymentDialog extends React.Component {\n  constructor(props) {\n    super(props); // 値の保持\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      this.handleClose();\n    };\n\n    this.handleOpen = () => {// ここで設定情報などを読み込む\n    };\n\n    this.handleClose = () => {\n      var _this$props$onClose, _this$props;\n\n      // 親コンポーネントにダイアログを閉じてもらうためのコールバック通知\n      (_this$props$onClose = (_this$props = this.props).onClose) === null || _this$props$onClose === void 0 ? void 0 : _this$props$onClose.call(_this$props);\n    };\n\n    this.customStyles = {\n      // ダイアログ内のスタイル（中央に表示）\n      content: {\n        top: '50%',\n        left: '50%',\n        right: 'auto',\n        bottom: 'auto',\n        marginRight: '-50%',\n        transform: 'translate(-50%, -50%)'\n      },\n      // 親ウィンドウのスタイル（ちょっと暗くする）\n      overlay: {\n        background: 'rgba(0, 0, 0, 0.2)'\n      }\n    };\n    this.state = {\n      price: 0\n    };\n    ReactModal.setAppElement('body');\n  } // const stripe = useStripe();\n  // const elements = useElements();\n  // const [message setMessage] = useState(\"\");\n  // const [isLoading, setIsLoading] = useState(false);\n  // useEffect(() => {\n  //   if (!stripe) {\n  //     return;\n  //   }\n  //   const clientSecret = new URLSearchParams(window.location.search).get(\n  //     \"payment_intent_client_secret\"\n  //   );\n  //   if (!clientSecret) {\n  //     return;\n  //   }\n  //   stripe.retrievePaymentIntent(clientSecret).then(({ paymentIntent }) => {\n  //     switch (paymentIntent.status) {\n  //       case \"succeeded\":\n  //         setMessage(\"お支払いが完了しました!\");\n  //         break;\n  //       case \"processing\":\n  //         setMessage(\"処理中です\");\n  //         break;\n  //       case \"requires_payment_method\":\n  //         setMessage(\"お支払いができませんでした　もう一度試してください\");\n  //         break;\n  //       default:\n  //         setMessage(\"問題が発生しました\");\n  //         break;\n  //     }\n  //   });\n  // }, [stripe]);\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(ReactModal, {\n      isOpen: this.props.isOpen,\n      onAfterOpen: this.handleOpen,\n      onRequestClose: this.handleClose,\n      style: this.customStyles,\n      contentLabel: \"Settings\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }\n    }, \"\\u304A\\u5E97\\u304C\\u5C0E\\u5165\\u3057\\u3066\\u3044\\u308B\\u6C7A\\u6E08\\u30B5\\u30FC\\u30D3\\u30B9\\u3092\\u9078\\u3093\\u3067\\u304F\\u3060\\u3055\\u3044\"))));\n  } // フォームのサブミット時にダイアログを閉じる\n\n\n}","map":{"version":3,"sources":["C:/Users/gold2/techpit/unify-payment_with_Stripe/src/components/home/PaymentDialog.tsx"],"names":["React","ReactModal","PaymentDialog","Component","constructor","props","handleSubmit","event","preventDefault","handleClose","handleOpen","onClose","customStyles","content","top","left","right","bottom","marginRight","transform","overlay","background","state","price","setAppElement","render","isOpen"],"mappings":";AAAA,OAAOA,KAAP,MAA2C,OAA3C;AAMA,OAAOC,UAAP,MAAuB,aAAvB;AAaA,OAAO,MAAMC,aAAN,SAA4BF,KAAK,CAACG,SAAlC,CAA0D;AAC/DC,EAAAA,WAAW,CAACC,KAAD,EAAe;AACxB,UAAMA,KAAN,EADwB,CAExB;;AAFwB,SAiElBC,YAjEkB,GAiEFC,KAAD,IAA6C;AAClEA,MAAAA,KAAK,CAACC,cAAN;AACA,WAAKC,WAAL;AACD,KApEyB;;AAAA,SA2ElBC,UA3EkB,GA2EL,MAAM,CACzB;AACD,KA7EyB;;AAAA,SAgFlBD,WAhFkB,GAgFJ,MAAM;AAAA;;AAC1B;AACA,iDAAKJ,KAAL,EAAWM,OAAX;AACD,KAnFyB;;AAAA,SAsFlBC,YAtFkB,GAsFgB;AACxC;AACAC,MAAAA,OAAO,EAAE;AACPC,QAAAA,GAAG,EAAE,KADE;AAEPC,QAAAA,IAAI,EAAE,KAFC;AAGPC,QAAAA,KAAK,EAAE,MAHA;AAIPC,QAAAA,MAAM,EAAE,MAJD;AAKPC,QAAAA,WAAW,EAAE,MALN;AAMPC,QAAAA,SAAS,EAAE;AANJ,OAF+B;AAUxC;AACAC,MAAAA,OAAO,EAAE;AACPC,QAAAA,UAAU,EAAE;AADL;AAX+B,KAtFhB;AAGxB,SAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE;AADI,KAAb;AAIAtB,IAAAA,UAAU,CAACuB,aAAX,CAAyB,MAAzB;AACD,GAT8D,CAW/D;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEOC,EAAAA,MAAM,GAAoB;AAC/B,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACL,oBAAC,UAAD;AACE,MAAA,MAAM,EAAE,KAAKpB,KAAL,CAAWqB,MADrB;AAEE,MAAA,WAAW,EAAE,KAAKhB,UAFpB;AAGE,MAAA,cAAc,EAAE,KAAKD,WAHvB;AAIE,MAAA,KAAK,EAAE,KAAKG,YAJd;AAKE,MAAA,YAAY,EAAC,UALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAOE;AAAM,MAAA,QAAQ,EAAE,KAAKN,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oJADF,CAPF,CADK,CAAP;AAeD,GA/D8D,CAiE/D;;;AAjE+D","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  PaymentElement,\r\n  useStripe,\r\n  useElements\r\n} from \"@stripe/react-stripe-js\";\r\nimport ReactModal from 'react-modal';\r\n\r\ninterface Props {\r\n  /** このダイアログを表示するなら true */\r\n  isOpen: boolean;\r\n  /** このダイアログを閉じるときのコールバック */\r\n  onClose?: () => void;\r\n}\r\n\r\ninterface State {\r\n  price: number;\r\n}\r\n\r\nexport class PaymentDialog extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n    // 値の保持\r\n    this.state = {\r\n      price: 0\r\n    };\r\n\r\n    ReactModal.setAppElement('body');\r\n  }\r\n\r\n  // const stripe = useStripe();\r\n  // const elements = useElements();\r\n\r\n  // const [message setMessage] = useState(\"\");\r\n  // const [isLoading, setIsLoading] = useState(false);\r\n  // useEffect(() => {\r\n  //   if (!stripe) {\r\n  //     return;\r\n  //   }\r\n\r\n  //   const clientSecret = new URLSearchParams(window.location.search).get(\r\n  //     \"payment_intent_client_secret\"\r\n  //   );\r\n\r\n  //   if (!clientSecret) {\r\n  //     return;\r\n  //   }\r\n\r\n  //   stripe.retrievePaymentIntent(clientSecret).then(({ paymentIntent }) => {\r\n  //     switch (paymentIntent.status) {\r\n  //       case \"succeeded\":\r\n  //         setMessage(\"お支払いが完了しました!\");\r\n  //         break;\r\n  //       case \"processing\":\r\n  //         setMessage(\"処理中です\");\r\n  //         break;\r\n  //       case \"requires_payment_method\":\r\n  //         setMessage(\"お支払いができませんでした　もう一度試してください\");\r\n  //         break;\r\n  //       default:\r\n  //         setMessage(\"問題が発生しました\");\r\n  //         break;\r\n  //     }\r\n  //   });\r\n  // }, [stripe]);\r\n\r\n  public render(): React.ReactNode {\r\n    return <div>\r\n      <ReactModal\r\n        isOpen={this.props.isOpen}\r\n        onAfterOpen={this.handleOpen}\r\n        onRequestClose={this.handleClose}\r\n        style={this.customStyles}\r\n        contentLabel=\"Settings\"\r\n      >\r\n        <form onSubmit={this.handleSubmit}>\r\n          <label>\r\n            お店が導入している決済サービスを選んでください\r\n          </label>\r\n        </form>\r\n      </ReactModal>\r\n    </div>;\r\n  }\r\n\r\n  // フォームのサブミット時にダイアログを閉じる\r\n  private handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    this.handleClose();\r\n  }\r\n\r\n  // private handleChangePrice = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n  //   this.setState({price: event.target.value})\r\n  // }\r\n\r\n  // ダイアログが開いたときに呼び出される\r\n  private handleOpen = () => {\r\n    // ここで設定情報などを読み込む\r\n  }\r\n\r\n  // ダイアログ領域外のクリックや、ESCキーを押したときに呼び出される\r\n  private handleClose = () => {\r\n    // 親コンポーネントにダイアログを閉じてもらうためのコールバック通知\r\n    this.props.onClose?.();\r\n  }\r\n\r\n  // スタイルのカスタマイズ\r\n  private customStyles: ReactModal.Styles = {\r\n    // ダイアログ内のスタイル（中央に表示）\r\n    content: {\r\n      top: '50%',\r\n      left: '50%',\r\n      right: 'auto',\r\n      bottom: 'auto',\r\n      marginRight: '-50%',\r\n      transform: 'translate(-50%, -50%)'\r\n    },\r\n    // 親ウィンドウのスタイル（ちょっと暗くする）\r\n    overlay: {\r\n      background: 'rgba(0, 0, 0, 0.2)'\r\n    }\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}